# é…’åº—å¤§å ‚æ— äººä¾¿åˆ©åº—å‰ç«¯ç³»ç»Ÿ

## é¡¹ç›®ç®€ä»‹

åŸºäº Vue 3 + TypeScript + Element Plus çš„é…’åº—å¤§å ‚æ— äººä¾¿åˆ©åº—å‰ç«¯ç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„è´­ç‰©ä½“éªŒï¼ŒåŒ…æ‹¬å•†å“æµè§ˆã€è´­ç‰©è½¦ã€è®¢å•ç®¡ç†ã€ä¼˜æƒ åˆ¸ç³»ç»Ÿç­‰åŠŸèƒ½ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 3 (Composition API)
- **è¯­è¨€**: TypeScript
- **UI ç»„ä»¶åº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router
- **å›½é™…åŒ–**: Vue I18n (ä¸­è‹±æ–‡åˆ‡æ¢)
- **HTTP å®¢æˆ·ç«¯**: Axios
- **æ¡å½¢ç æ‰«æ**: @zxing/browser
- **æ„å»ºå·¥å…·**: Vite

## ä¸»è¦åŠŸèƒ½

### âœ… æ ¸å¿ƒåŠŸèƒ½

1. **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**
   - ç™»å½•/æ³¨å†Œ
   - Token è®¤è¯
   - ç”¨æˆ·ä¿¡æ¯ç®¡ç†

2. **å•†å“ç®¡ç†**
   - å•†å“åˆ—è¡¨å±•ç¤º
   - å•†å“è¯¦æƒ…é¡µ
   - åˆ†ç±»æµè§ˆ
   - å‘˜å·¥ä»·æ ¼æ˜¾ç¤º (å‘˜å·¥/ç®¡ç†å‘˜è§’è‰²)

3. **è´­ç‰©è½¦ç³»ç»Ÿ**
   - æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
   - æ•°é‡è°ƒæ•´
   - è´­ç‰©è½¦ç»Ÿè®¡
   - è´­ç‰©è½¦è§’æ ‡æ˜¾ç¤º

4. **è®¢å•ç®¡ç†**
   - åˆ›å»ºè®¢å•
   - è®¢å•åˆ—è¡¨
   - è®¢å•çŠ¶æ€è·Ÿè¸ª
   - è®¢å•è¯¦æƒ…æŸ¥çœ‹

5. **ä¼˜æƒ åˆ¸ç³»ç»Ÿ**
   - ä¼˜æƒ åˆ¸åˆ—è¡¨
   - é¢†å–ä¼˜æƒ åˆ¸
   - æˆ‘çš„ä¼˜æƒ åˆ¸
   - ä¼˜æƒ åˆ¸ä½¿ç”¨

6. **æ¡å½¢ç æ‰«æ**
   - æ‘„åƒå¤´æ‰«ææ¡å½¢ç 
   - è‡ªåŠ¨è·³è½¬å•†å“è¯¦æƒ…

7. **å¤šè¯­è¨€æ”¯æŒ**
   - ä¸­æ–‡/English åˆ‡æ¢
   - å®Œæ•´çš„å›½é™…åŒ–æ”¯æŒ

8. **è½®æ’­å›¾**
   - é¦–é¡µ Banner è½®æ’­
   - è‡ªåŠ¨æ’­æ”¾

9. **ç®¡ç†åå°**
   - ç®¡ç†å‘˜ä¸“å±åŠŸèƒ½ (å¼€å‘ä¸­)

### ğŸ’¡ ç‰¹è‰²åŠŸèƒ½

- **å‘˜å·¥å†…éƒ¨ä»·**: å‘˜å·¥å’Œç®¡ç†å‘˜å¯æŸ¥çœ‹å¹¶ä½¿ç”¨ç‰¹æ®Šä»·æ ¼
- **ç®€çº¦ç¾è§‚**: é‡‡ç”¨ Element Plus ç»„ä»¶ï¼Œç•Œé¢æ¸…çˆ½ç°ä»£
- **å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **ç”¨æˆ·å¤´åƒ**: ä¸ªæ€§åŒ–ç”¨æˆ·ä½“éªŒ

## é¡¹ç›®ç»“æ„

```
frontend/
â”œâ”€â”€ index.html                # å…¥å£ HTML
â”œâ”€â”€ package.json              # ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.ts            # Vite é…ç½®
â”œâ”€â”€ tsconfig.json             # TypeScript é…ç½®
â””â”€â”€ src/
    â”œâ”€â”€ main.ts               # åº”ç”¨å…¥å£
    â”œâ”€â”€ App.vue               # æ ¹ç»„ä»¶
    â”œâ”€â”€ env.d.ts              # TypeScript å£°æ˜
    â”œâ”€â”€ api/                  # API æ¥å£
    â”‚   â”œâ”€â”€ request.ts        # Axios å®ä¾‹
    â”‚   â”œâ”€â”€ user.ts           # ç”¨æˆ· API
    â”‚   â”œâ”€â”€ product.ts        # å•†å“ API
    â”‚   â”œâ”€â”€ cart.ts           # è´­ç‰©è½¦ API
    â”‚   â”œâ”€â”€ order.ts          # è®¢å• API
    â”‚   â”œâ”€â”€ coupon.ts         # ä¼˜æƒ åˆ¸ API
    â”‚   â””â”€â”€ banner.ts         # è½®æ’­å›¾ API
    â”œâ”€â”€ components/           # ç»„ä»¶
    â”‚   â”œâ”€â”€ Header.vue        # å¤´éƒ¨å¯¼èˆª
    â”‚   â”œâ”€â”€ ProductCard.vue   # å•†å“å¡ç‰‡
    â”‚   â””â”€â”€ BarcodeScanner.vue # æ¡å½¢ç æ‰«æå™¨
    â”œâ”€â”€ views/                # é¡µé¢
    â”‚   â”œâ”€â”€ Login.vue         # ç™»å½•é¡µ
    â”‚   â”œâ”€â”€ Register.vue      # æ³¨å†Œé¡µ
    â”‚   â”œâ”€â”€ Home.vue          # é¦–é¡µ
    â”‚   â”œâ”€â”€ ProductDetail.vue # å•†å“è¯¦æƒ…
    â”‚   â”œâ”€â”€ Cart.vue          # è´­ç‰©è½¦
    â”‚   â”œâ”€â”€ Order.vue         # è®¢å•åˆ—è¡¨
    â”‚   â”œâ”€â”€ Coupon.vue        # ä¼˜æƒ åˆ¸
    â”‚   â””â”€â”€ Admin.vue         # ç®¡ç†åå°
    â”œâ”€â”€ store/                # çŠ¶æ€ç®¡ç†
    â”‚   â”œâ”€â”€ user.ts           # ç”¨æˆ·çŠ¶æ€
    â”‚   â”œâ”€â”€ cart.ts           # è´­ç‰©è½¦çŠ¶æ€
    â”‚   â””â”€â”€ app.ts            # åº”ç”¨çŠ¶æ€
    â”œâ”€â”€ router/               # è·¯ç”±
    â”‚   â””â”€â”€ index.ts          # è·¯ç”±é…ç½®
    â”œâ”€â”€ locales/              # å›½é™…åŒ–
    â”‚   â”œâ”€â”€ index.ts          # i18n é…ç½®
    â”‚   â”œâ”€â”€ zh.ts             # ä¸­æ–‡
    â”‚   â””â”€â”€ en.ts             # è‹±æ–‡
    â””â”€â”€ utils/                # å·¥å…·å‡½æ•°
        â”œâ”€â”€ auth.ts           # Token ç®¡ç†
        â””â”€â”€ md5.ts            # MD5 åŠ å¯†
```

## åç«¯ API æ¥å£

åç«¯åœ°å€: `http://localhost:8080`

### ç”¨æˆ·æ¥å£
- `POST /user/login` - ç™»å½•
- `POST /user/register` - æ³¨å†Œ
- `GET /user/info` - è·å–ç”¨æˆ·ä¿¡æ¯
- `PUT /user/update` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯

### å•†å“æ¥å£
- `GET /product/list` - è·å–å•†å“åˆ—è¡¨
- `GET /product/{id}` - è·å–å•†å“è¯¦æƒ…
- `GET /product/barcode/{barcode}` - é€šè¿‡æ¡å½¢ç è·å–å•†å“

### è´­ç‰©è½¦æ¥å£
- `POST /cart/add` - æ·»åŠ åˆ°è´­ç‰©è½¦
- `GET /cart/list` - è·å–è´­ç‰©è½¦åˆ—è¡¨
- `PUT /cart/update` - æ›´æ–°è´­ç‰©è½¦é¡¹
- `DELETE /cart/{id}` - åˆ é™¤è´­ç‰©è½¦é¡¹
- `DELETE /cart/clear` - æ¸…ç©ºè´­ç‰©è½¦

### è®¢å•æ¥å£
- `POST /order/create` - åˆ›å»ºè®¢å•
- `GET /order/list` - è·å–è®¢å•åˆ—è¡¨

### ä¼˜æƒ åˆ¸æ¥å£
- `GET /coupon/list` - è·å–ä¼˜æƒ åˆ¸åˆ—è¡¨
- `POST /coupon/claim/{id}` - é¢†å–ä¼˜æƒ åˆ¸
- `GET /coupon/user` - è·å–ç”¨æˆ·ä¼˜æƒ åˆ¸

### è½®æ’­å›¾æ¥å£
- `GET /banner/list` - è·å–è½®æ’­å›¾åˆ—è¡¨

## å®‰è£…ä¸è¿è¡Œ

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:3000` å¯åŠ¨

### ç”Ÿäº§æ„å»º

```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

## ç¯å¢ƒè¦æ±‚

- Node.js >= 18
- npm >= 9

## é…ç½®è¯´æ˜

### API ä»£ç†é…ç½®

åœ¨ `vite.config.ts` ä¸­é…ç½®äº† API ä»£ç†:

```typescript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:8080',
      changeOrigin: true,
      rewrite: (path) => path.replace(/^\/api/, '')
    }
  }
}
```

### TypeScript è·¯å¾„åˆ«å

åœ¨ `tsconfig.json` å’Œ `vite.config.ts` ä¸­é…ç½®äº† `@` åˆ«åæŒ‡å‘ `src` ç›®å½•:

```typescript
// vite.config.ts
resolve: {
  alias: {
    '@': resolve(__dirname, 'src')
  }
}
```

## ç”¨æˆ·è§’è‰²è¯´æ˜

ç³»ç»Ÿæ”¯æŒä»¥ä¸‹ç”¨æˆ·è§’è‰²:

1. **æ™®é€šç”¨æˆ·** - å¯æµè§ˆå•†å“ã€è´­ç‰©ã€æŸ¥çœ‹è®¢å•
2. **å‘˜å·¥ (employee)** - å¯äº«å—å‘˜å·¥ä»·
3. **ç®¡ç†å‘˜ (admin)** - å¯è®¿é—®ç®¡ç†åå° + å‘˜å·¥æƒé™

## é¡µé¢è·¯ç”±

- `/` - é‡å®šå‘åˆ°é¦–é¡µ
- `/login` - ç™»å½•é¡µ
- `/register` - æ³¨å†Œé¡µ
- `/home` - é¦–é¡µ
- `/product/:id` - å•†å“è¯¦æƒ…
- `/cart` - è´­ç‰©è½¦
- `/order` - è®¢å•åˆ—è¡¨
- `/coupon` - ä¼˜æƒ åˆ¸
- `/admin` - ç®¡ç†åå° (éœ€è¦ç®¡ç†å‘˜æƒé™)

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/views/` åˆ›å»º Vue ç»„ä»¶
2. åœ¨ `src/router/index.ts` æ·»åŠ è·¯ç”±é…ç½®
3. åœ¨ `src/locales/zh.ts` å’Œ `en.ts` æ·»åŠ ç¿»è¯‘

### æ·»åŠ æ–° API

1. åœ¨ `src/api/` åˆ›å»ºå¯¹åº”æ¨¡å—æ–‡ä»¶
2. å®šä¹‰ TypeScript æ¥å£ç±»å‹
3. å¯¼å‡º API å‡½æ•°

### ä½¿ç”¨ Pinia Store

```typescript
import { useUserStore } from '@/store/user'

const userStore = useUserStore()
userStore.login({ username, password })
```

### å›½é™…åŒ–ä½¿ç”¨

```vue
<template>
  <div>{{ $t('common.confirm') }}</div>
</template>

<script setup lang="ts">
import { useI18n } from 'vue-i18n'
const { t } = useI18n()
</script>
```

## License

MIT
